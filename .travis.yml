language: android
android:
  components:
    - build-tools-24.0.0
    - android-20
jdk: oraclejdk7

cache:
  directories:
  - $HOME/.gradle/wrapper
  - $HOME/.gradle/caches/modules-2/files-2.1

before_install:
- chmod +x gradlew
- chmod +x ./ci/*
script:
- ./ci/build_desktop.sh
- ./ci/build_android.sh
- ./ci/build_ios.sh
- ./ci/build_html.sh

script:
  - "./gradlew build -PversionCode=$TRAVIS_BUILD_NUMBER"
before_deploy:
- ./ci/deploy_desktop.sh
- ./ci/deploy_android.sh
- ./ci/deploy_html.sh
  
notifications:
  email: false
